# 🎯 일일퀘스트 보상 변경 가이드

## 📋 변경 내용

**물고기 10마리 잡기 퀘스트 보상 변경:**
- **이전**: 호박석 10개
- **이후**: 별조각 1개 ⭐

## 🔧 적용 방법

### 1단계: 서버 코드 수정

**파일**: `server/src/index.js`

#### 1-1. 퀘스트 정보 표시 변경 (4540라인)
```javascript
// 기존
reward: '호박석 10개'

// 변경
reward: '별조각 1개'
```

#### 1-2. 퀘스트 보상 수령 로직 변경 (4677-4734라인)
`server/quest-reward-patch.js` 파일의 내용으로 전체 교체

**주요 변경사항:**
- `fish_caught` 퀘스트: 별조각 1개 지급
- `exploration_win`, `fish_sold` 퀘스트: 호박석 10개 유지
- 보상 타입별 분기 처리 추가
- StarPieceModel을 통한 별조각 지급 로직 추가

### 2단계: 클라이언트 코드 수정

**파일**: `client/src/App.jsx`

#### 2-1. 퀘스트 보상 수령 함수 변경 (2294-2312라인)
`client/quest-reward-patch.js` 파일의 내용으로 교체

**주요 변경사항:**
- 보상 타입에 따른 상태 업데이트 분기 처리
- 별조각 보상 시 `setUserStarPieces` 호출
- 호박석 보상 시 `setUserAmber` 호출 (기존 유지)

## 🎯 변경 후 퀘스트 보상 구조

| 퀘스트 | 목표 | 보상 |
|--------|------|------|
| 물고기 10마리 잡기 | 물고기 10마리 | ⭐ **별조각 1개** |
| 탐사전투 승리하기 | 승리 1회 | 🟡 호박석 10개 |
| 물고기 10회 판매하기 | 판매 10회 | 🟡 호박석 10개 |

## 📊 서버 응답 형식 변화

### 물고기 10마리 잡기 퀘스트 완료 시

**이전 응답:**
```json
{
  "success": true,
  "message": "퀘스트 완료! 호박석 10개를 획득했습니다!",
  "newAmber": 150
}
```

**변경 후 응답:**
```json
{
  "success": true,
  "message": "퀘스트 완료! 별조각 1개를 획득했습니다!",
  "newStarPieces": 5,
  "rewardType": "starPieces"
}
```

### 다른 퀘스트 (호박석 보상 유지)

```json
{
  "success": true,
  "message": "퀘스트 완료! 호박석 10개를 획득했습니다!",
  "newAmber": 160,
  "rewardType": "amber"
}
```

## 🚀 적용 후 효과

### 1. 게임 밸런스 개선
- ✅ **별조각 획득 경로 다양화**: 동료 뽑기 재료 획득이 더 쉬워짐
- ✅ **호박석 인플레이션 방지**: 호박석 과다 공급 억제
- ✅ **일일 활동 동기 부여**: 매일 물고기 잡기 동기 강화

### 2. 사용자 경험 향상
- ✅ **동료 시스템 활성화**: 별조각으로 동료 뽑기 더 활발해짐
- ✅ **보상 다양성**: 단일 보상(호박석)에서 다양한 보상으로 변화
- ✅ **전략적 선택**: 어떤 퀘스트를 우선할지 전략적 고민 증가

### 3. 경제 시스템 균형
- ✅ **별조각 가치 상승**: 희귀 자원으로서의 가치 유지
- ✅ **호박석 안정화**: 과도한 공급으로 인한 가치 하락 방지
- ✅ **자원 순환 개선**: 다양한 자원의 균형잡힌 순환

## ⚠️ 주의사항

1. **기존 사용자 영향**: 이미 진행 중인 퀘스트는 다음 리셋 후 적용
2. **서버 재시작 필요**: 변경사항 적용을 위해 서버 재시작 필요
3. **데이터베이스**: 기존 퀘스트 데이터는 자동으로 새로운 보상 체계 적용

## 🎉 완료 확인

1. 서버 재시작 후 일일퀘스트 확인
2. 물고기 10마리 잡기 퀘스트 보상이 "별조각 1개"로 표시되는지 확인
3. 퀘스트 완료 후 별조각이 정상적으로 지급되는지 테스트
4. 다른 퀘스트들은 여전히 호박석 보상인지 확인

이제 **물고기 잡기가 더욱 의미있는 활동**이 되었습니다! 🎣⭐
